extends ../layouts/default.pug

block scripts
  script(src='https://cdn.jsdelivr.net/npm/web3@1.3.1/dist/web3.min.js')
  script(src='https://cdn.jsdelivr.net/npm/realdao@0.1.9/dist/realdao.min.js')
  //- script(src='/pages/realdao.min.js')
  script(src='https://cdn.jsdelivr.net/npm/vue@2.6.12')

block content
  -
    var services = [
      '/services/realdao.js',
      '/services/wallet.js',
    ]
    var modules = [
      '/modules/topbar',
      '/modules/overview',
      '/modules/mining',
    ]
  script(type='module').
    import { main } from '/pages/main.js'
    window.onload = () => {
      const services = '#{services}'.split(',')
      const modules = '#{modules}'.split(',')
      main([services, modules])
      M.AutoInit()
    }
  include ../modules/topbar/index.html
  include ../modules/overview/index.html
  include ../modules/mining/index.html
  div#app
    hr
    button(v-for="tab in tabs" v-bind:key="tab" v-on:click="currentTab = tab") {{ tab }}
    hr
    Topbar
    hr
    keep-alive
      component(v-bind:is="currentTab")